services:
  - type: web
    name: simplified-backend
    runtime: python
    plan: free
    buildCommand: "cd backend-python && pip install -r requirements.txt"
    startCommand: "cd backend-python && gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app --bind 0.0.0.0:$PORT"
    envVars:
      - key: GROQ_API_KEY
        sync: false
      - key: ASSEMBLYAI_API_KEY
        sync: false
      - key: FIREBASE_PROJECT_ID
        sync: false
      - key: FIREBASE_PRIVATE_KEY
        sync: false
      - key: FIREBASE_CLIENT_EMAIL
        sync: false
      - key: PORT
        value: "8000"
